<app-layout [text]="'C√†i ƒë·∫∑t'" (dataEvent)="receiveData($event)" [tabTemplates]="{List}">
</app-layout>
<ng-template #List>

    <div class="container">
        <ul class="nav nav-tabs" id="settingsTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="site-tab" data-bs-toggle="tab" data-bs-target="#site" type="button"
                    role="tab">C√†i ƒë·∫∑t trang</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="payment-tab" data-bs-toggle="tab" data-bs-target="#payment" type="button"
                    role="tab">C√†i ƒë·∫∑t thanh to√°n</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="email-tab" data-bs-toggle="tab" data-bs-target="#email" type="button"
                    role="tab">C√†i ƒë·∫∑t Email</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="theme-tab" data-bs-toggle="tab" data-bs-target="#theme" type="button"
                    role="tab">Giao di·ªán</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="seo-tab" data-bs-toggle="tab" data-bs-target="#seo" type="button"
                    role="tab">C√†i ƒë·∫∑t SEO</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="security-tab" data-bs-toggle="tab" data-bs-target="#security" type="button"
                    role="tab">B·∫£o m·∫≠t</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="notification-tab" data-bs-toggle="tab" data-bs-target="#notification"
                    type="button" role="tab">Th√¥ng b√°o</button>
            </li>
        </ul>

        <div class="tab-content" id="settingsTabContent">
            <!-- Site Settings -->
            <div class="tab-pane fade show active" id="site" role="tabpanel">
                <div class="form-section">
                    <h5>C√†i ƒë·∫∑t trang</h5>
                    <div class="mb-3">
                        <label for="siteName" class="form-label">T√™n trang</label>
                        <input type="text" class="form-control" id="siteName"
                            [(ngModel)]="setting.SiteSettings.siteName" placeholder="Nh·∫≠p t√™n trang">
                    </div>
                    <!-- /logo/logo.png -->
                    <div class="row ">
                        <div class="col-6">
                            <div class="mb-3">
                                <div class="custom-file">
                                    <input type="file" id="image" name="image" class="form-control form-control-sm"
                                        (change)="onFileSelected_img_logo($event)" #imageInput style="display: none" />
                                    <a href="javascript:void(0)" class="custom-file-link" (click)="imageInput.click()">
                                        Ch·ªçn Logo
                                    </a>
                                </div>
                                <img *ngIf="previewImg_logo" [src]="previewImg_logo" alt="Thumbnail" class="img-fluid mt-1"
                                    style="max-height: 120px;">
                            </div>
                        </div>
                        <div class="col-6 d-flex justify-content-end">
                            <label class="image-box">
                                <input type="file" hidden accept="image" (change)="onFileSelected_img_avatar($event)">
                                <ng-container>
                                    <div class="icon">üì∑</div>
                                    <p>T·∫£i ·∫£nh ng∆∞·ªùi d√πng (m·∫∑c ƒë·ªãnh)</p>
                                </ng-container>
                                <img *ngIf="previewImg_avatar" [src]="previewImg_avatar" class="preview-img">
                            </label>
                        </div>
                    </div>

                    <div class="form-check form-switch mb-3">
                        <input class="form-check-input" type="checkbox" id="maintenanceMode"
                            [(ngModel)]="setting.SiteSettings.maintenanceMode">
                        <label class="form-check-label" for="maintenanceMode">Ch·∫ø ƒë·ªô b·∫£o tr√¨</label>
                    </div>

                    <div class="mb-3" style="width: 50%;">
                        <label for="defaultLanguage" class="form-label">Ng√¥n ng·ªØ m·∫∑c ƒë·ªãnh</label>
                        <select class="form-select" id="defaultLanguage"
                            [(ngModel)]="setting.SiteSettings.defaultLanguage">
                            <option value="vi">Ti·∫øng Vi·ªát</option>
                            <option value="en">Ti·∫øng Anh</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Payment Settings -->
            <div class="tab-pane fade" id="payment" role="tabpanel">
                <div class="form-section">
                    <h5>Payment Settings</h5>
                    <div class="mb-3">
                        <label class="form-label">Gateways</label>
                        <select class="form-select" multiple>
                            <option value="vnpay">VNPAY</option>
                            <option value="momo">Momo</option>
                            <option value="paypal">Paypal</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="currency" class="form-label">Currency</label>
                        <input type="text" class="form-control" id="currency" value="VND">
                    </div>
                    <div class="mb-3">
                        <label for="commission" class="form-label">Commission (%)</label>
                        <input type="number" class="form-control" id="commission" value="10">
                    </div>
                    <div class="form-check form-switch mb-3">
                        <input class="form-check-input" type="checkbox" id="enableTestMode">
                        <label class="form-check-label" for="enableTestMode">Enable Test Mode</label>
                    </div>
                </div>
            </div>
            <!-- Email Settings -->
            <div class="tab-pane fade" id="email" role="tabpanel">
                <div class="form-section">
                    <h5>C√†i ƒë·∫∑t Email</h5>

                    <div class="mb-3">
                        <label for="smtpHost" class="form-label">SMTP Host</label>
                        <input type="text" class="form-control" id="smtpHost"
                            [(ngModel)]="setting.EmailSettings.smtpHost" name="smtpHost"
                            placeholder="VD: smtp.gmail.com">
                    </div>

                    <div class="mb-3">
                        <label for="smtpPort" class="form-label">SMTP Port</label>
                        <input type="number" class="form-control" id="smtpPort"
                            [(ngModel)]="setting.EmailSettings.smtpPort" name="smtpPort" placeholder="VD: 587">
                    </div>

                    <div class="mb-3">
                        <label for="username" class="form-label">T√™n ng∆∞·ªùi d√πng Email</label>
                        <input type="text" class="form-control" id="username"
                            [(ngModel)]="setting.EmailSettings.username" name="username"
                            placeholder="VD: vvc132003@gmail.com">
                    </div>

                    <div class="mb-3">
                        <label for="password" class="form-label">M·∫≠t kh·∫©u Email</label>
                        <input type="password" class="form-control" id="password"
                            [(ngModel)]="setting.EmailSettings.password" name="password"
                            placeholder="VD: bzcaumaekzuvwlia">
                    </div>

                    <div class="form-check form-switch mb-3">
                        <input class="form-check-input" type="checkbox" id="enableSSL"
                            [(ngModel)]="setting.EmailSettings.enableSSL" name="enableSSL">
                        <label class="form-check-label" for="enableSSL">K√≠ch ho·∫°t SSL</label>
                    </div>

                </div>
            </div>


            <!-- Theme Settings -->
            <div class="tab-pane fade" id="theme" role="tabpanel">
                <div class="form-section">
                    <h5>Theme & Appearance</h5>
                    <div class="mb-3">
                        <label for="theme" class="form-label">Default Theme</label>
                        <select class="form-select" id="theme">
                            <option value="light">Light</option>
                            <option value="dark" selected>Dark</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="primaryColor" class="form-label">Primary Color</label>
                        <input type="color" class="form-control form-control-color" id="primaryColor" value="#FF5733">
                    </div>
                    <div class="mb-3">
                        <label for="secondaryColor" class="form-label">Secondary Color</label>
                        <input type="color" class="form-control form-control-color" id="secondaryColor" value="#333333">
                    </div>
                </div>
            </div>
            <!-- SEO Settings -->
            <div class="tab-pane fade" id="seo" role="tabpanel">
                <div class="form-section">
                    <h5>SEO Settings</h5>
                    <div class="mb-3">
                        <label for="metaTitle" class="form-label">Meta Title</label>
                        <input type="text" class="form-control" id="metaTitle">
                    </div>
                    <div class="mb-3">
                        <label for="metaDescription" class="form-label">Meta Description</label>
                        <textarea class="form-control" id="metaDescription" rows="3"></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="metaKeywords" class="form-label">Meta Keywords (comma separated)</label>
                        <input type="text" class="form-control" id="metaKeywords">
                    </div>
                </div>
            </div>
            <!-- Security Settings -->
            <div class="tab-pane fade" id="security" role="tabpanel">
                <div class="form-section">
                    <h5>C√†i ƒë·∫∑t b·∫£o m·∫≠t</h5>

                    <div class="form-check form-switch mb-3">
                        <input class="form-check-input" type="checkbox" id="enable2FA"
                            [(ngModel)]="setting.SecuritySettings.enable2FA" checked>
                        <label class="form-check-label" for="enable2FA">K√≠ch ho·∫°t x√°c th·ª±c 2 b∆∞·ªõc (2FA)</label>
                    </div>

                    <div class="mb-3">
                        <label for="passwordMinLength" class="form-label">ƒê·ªô d√†i t·ªëi thi·ªÉu c·ªßa m·∫≠t kh·∫©u</label>
                        <input type="number" class="form-control"
                            [(ngModel)]="setting.SecuritySettings.passwordMinLength" id="passwordMinLength" value="8">
                    </div>

                    <div class="form-check form-switch mb-3">
                        <input class="form-check-input" type="checkbox" id="requireSymbols"
                            [(ngModel)]="setting.SecuritySettings.requireSymbols" checked>
                        <label class="form-check-label" for="requireSymbols">Y√™u c·∫ßu k√Ω t·ª± ƒë·∫∑c bi·ªát trong m·∫≠t
                            kh·∫©u</label>
                    </div>

                </div>
            </div>

            <!-- Notification Settings -->
            <div class="tab-pane fade" id="notification" role="tabpanel">
                <div class="form-section">
                    <h5>C√†i ƒë·∫∑t th√¥ng b√°o</h5>

                    <div class="form-check form-switch mb-3">
                        <input class="form-check-input" type="checkbox" id="emailNotifications"
                            [(ngModel)]="setting.NotificationSettings.emailNotifications" checked>
                        <label class="form-check-label" for="emailNotifications">B·∫≠t th√¥ng b√°o qua Email</label>
                    </div>

                    <div class="form-check form-switch mb-3">
                        <input class="form-check-input" type="checkbox" id="pushNotifications"
                            [(ngModel)]="setting.NotificationSettings.pushNotifications">
                        <label class="form-check-label" for="pushNotifications">B·∫≠t th√¥ng b√°o ƒë·∫©y</label>
                    </div>

                    <div class="mb-3">
                        <label for="lowBalanceThreshold" class="form-label">Ng∆∞·ª°ng c·∫£nh b√°o s·ªë d∆∞ th·∫•p</label>
                        <input type="text" style="color: red;" placeholder="VD: 50.000 ‚Ç´" class="form-control"
                            id="lowBalanceThreshold"
                            [value]="formatVND(setting.NotificationSettings.lowBalanceThreshold)"
                            (input)="onPriceInput($event)">
                    </div>
                </div>
            </div>
        </div>
        <div class="offcanvas-footer">
            <button type="button" class="btn btn-primary px-4" (click)="save()">
                <i class="fa fa-save"></i>
                L∆∞u
            </button>
        </div>
    </div>


</ng-template>