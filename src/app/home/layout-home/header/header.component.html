<div class="main">
    <div class="header">
        <!-- SIDEBAR -->
        <aside class="sidebar">
            <ul>
                <li *ngFor="let item of category_list.slice(0, 8);">
                    <a [routerLink]="['/danh-muc-source-code']" [queryParams]="{ category: item.slug }">
                        {{ item.name }}
                    </a>
                </li>
                <li><a href="#">Khác</a></li>
            </ul>
        </aside>

        <!-- BANNER SLIDESHOW -->
        <section class="banner">
            <div class="slides">
                <div class="slide" *ngFor="let item of slides; let i = index" [class.active]="i === currentIndex">
                    <img [src]="item" alt="Banner {{ i + 1 }}">
                </div>
            </div>
            <div class="dots">
                <div *ngFor="let dot of slides; let i = index" [class.active]="i === currentIndex"
                    (click)="goToSlide(i)">
                </div>
            </div>
        </section>

    </div>
</div>
<div class="features">
    <div class="features-header">
        <div class="feature-box">
            <div class="icon"><i class="fas fa-money-bill-wave"></i></div>
            <div class="content">
                <h3>Thu nhập tự động</h3>
                <p>Bạn có code hãy upload ngay</p>
            </div>
        </div>
        <div class="feature-box">
            <div class="icon"><i class="fas fa-headset"></i></div>
            <div class="content">
                <h3>Hỗ trợ 24/7</h3>
                <p>Tư vấn & hỗ trợ mọi lúc</p>
            </div>
        </div>
        <div class="feature-box">
            <div class="icon"><i class="fas fa-code"></i></div>
            <div class="content">
                <h3>Mã nguồn đa dạng</h3>
                <p>Kho code phong phú, liên tục cập nhật</p>
            </div>
        </div>
        <div class="feature-box">
            <div class="icon"><i class="fas fa-bolt"></i></div>
            <div class="content">
                <h3>Giao dịch nhanh</h3>
                <p>Nạp & rút tiền chỉ trong vài giây</p>
            </div>
        </div>
    </div>
</div>

<div class="top-source-title">
    <h4><strong>TOP SOURCE CODE MỚI NHẤT</strong></h4>
</div>

<div class="product-grid">

    <div class="product-list">

        <div class="product-card" *ngFor="let item of pagedData">

            <div class="thumb">
                <img [src]="item.thumbnailUrl" alt="" />
            </div>

            <div class="thumb-actions">
                <button>Xem chi tiết</button>
                <button>Lưu code</button>
            </div>

            <div class="tag">
                <i class="fas fa-code"></i> {{ item.categoryName }}
            </div>

            <h3 class="title">
                <a [routerLink]="['/source-code', item.slug]">{{ item.title }}</a>
            </h3>

            <div class="price">
                {{ item.price | number }} đ
            </div>

            <div class="rating">
                <i *ngFor="let s of [1,2,3,4,5]" class="fa-star" [ngClass]="s <= item.star ? 'fas active' : 'far'">
                </i>
                <span>1 đánh giá</span>
            </div>

            <div class="bottom-row">
                <div class="seller">
                    <img [src]="item.avatar" />
                    <span>{{ item.seller }}</span>
                </div>

                <div class="actions">
                    <i (click)="bookmark(item.id)"
                        [ngClass]="{'fas fa-bookmark': true, 'text-warning': item.isFavorite}"
                        [ngStyle]="{'color': item.isFavorite ? 'yellow' : 'gray'}">
                    </i>
                    <i class="fas fa-download"></i>
                </div>
            </div>
        </div>

    </div>

</div>

<div class="pagination" *ngIf="totalPages > 1">
    <button (click)="goToPage(currentPage - 1)" [disabled]="currentPage === 1">‹</button>

    <button *ngFor="let p of visiblePages" (click)="isNumber(p) ? goToPage(p) : null" [class.active]="p === currentPage"
        [disabled]="p === '…'">
        {{ p }}
    </button>

    <button (click)="goToPage(currentPage + 1)" [disabled]="currentPage === totalPages">›</button>
</div>
